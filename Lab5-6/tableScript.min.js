$(document).ready(function(){
	$("th").click(function(){
		var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
		var n = $(this).index();
		table = $(this).parent().parent();
		switching = true;
		dir = "asc";
		while (switching) {
			switching = false;
			rows = $(table).find('> tr');
			for (i = 1; i < (rows.length - 1); i++) {
				shouldSwitch = false;
				x = $(rows[i]).find("td:eq(" + n + ")").text();
				y = $(rows[i + 1]).find("td:eq(" + n + ")").text();
				if (dir == "asc") {
					if ($.isNumeric(x) == false && x.toLowerCase() > y.toLowerCase()) {
					  shouldSwitch= true;
					  break;
					}
					if ($.isNumeric(x) == true && Number(x) > Number(y)) {
						shouldSwitch = true;
						break;
					}
				} else if (dir == "desc") {
					if ($.isNumeric(x) == false && x.toLowerCase() < y.toLowerCase()) {
					  shouldSwitch= true;
					  break;
					}
					if ($.isNumeric(x) == true && Number(x) < Number(y)) {
						shouldSwitch = true;
						break;
					}
				}
			}
			if (shouldSwitch) {
			  $(rows[i + 1]).insertBefore(rows[i]);
			  switching = true;
			  
			  switchcount ++;      
			} else {
			  if (switchcount == 0 && dir == "asc") {
				dir = "desc";
				switching = true;
			  }
			}
		}
	});
});
